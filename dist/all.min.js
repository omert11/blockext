(()=>{"use strict";var __webpack_modules__={900:(e,t,_)=>{var r;_.d(t,{Q:()=>r}),function(e){e.each="each",e.block="block",e.helper="helper"}(r||(r={}))},524:(e,t,_)=>{_.d(t,{l:()=>a});const r=(()=>{let e=0;return()=>(e++,e-1)})();function a(e){const t=t=>{const _={id:r(),name:e.name,type:e.type,el:t.el,context:t.context,BX:t.BX,tag_context:{},add_context(e,t){_.tag_context[e]=t},get_context:e=>_.tag_context[e],del_context(e){delete _.tag_context[e]},get_html_attribute:e=>e.getAttribute(`bx-${_.name}`),get_data:(e,t)=>(e.split(".").forEach((e=>t="this"==e?t:t[e])),t),remove_tag_attribute:()=>_.el.removeAttribute(`bx-${_.name}`),use:()=>({break_loop:!1,context:_.context,...e.use.call(_)||{}}),get attr(){return _.get_html_attribute(_.el)},get data(){return _.get_data(_.attr,_.context)}};return _};return t._name=e.name,t._type=e.type,t}},553:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>registry});var _enums__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(900),_factory__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(524);function createElementFromHTML(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}const tag_registry=[],registry={get registry(){return[...tag_registry]},add(e){tag_registry.push(e)},get_tag_methods:e=>registry.registry.filter((t=>e.includes(t._name)))},FOR_TAG=(0,_factory__WEBPACK_IMPORTED_MODULE_1__.l)({name:"for",type:_enums__WEBPACK_IMPORTED_MODULE_0__.Q.each,use(){let e=this.data;e?Array.isArray(e)||(e=[e]):e=[],this.remove_tag_attribute(),this.el.setAttribute("bx-each-id",this.id.toString());const t=this.el.outerHTML;return{break_loop:!1,context:null,each_method(_,r,a,s){for(let r=0;r<e.length;r++){let o={...e[r],"bx-for-counter":r+1,"bx-for-counter0":r,"bx-for-first":0==r,"bx-for-last":r==e.length-1},i=createElementFromHTML(t);_.before(i),a.call(s,r,i,o)}_.remove()}}}});registry.add(FOR_TAG);const IF_IS_TAG=(0,_factory__WEBPACK_IMPORTED_MODULE_1__.l)({name:"if-is",type:_enums__WEBPACK_IMPORTED_MODULE_0__.Q.each,use(){const nodeInstance={...this.context,__nd(el,tag,condition=!1){let attr=el.getAttribute(tag);if(!condition)try{condition=eval(attr)}catch(e){}return{el,tag,attr,condition}}};let nodes=[nodeInstance.__nd(this.el,"bx-if-is")],lastNode=this.el;for(;lastNode.nextElementSibling&&["bx-elif-is","bx-else"].some((e=>lastNode.nextElementSibling.hasAttribute(e)));){if(lastNode=lastNode.nextElementSibling,lastNode.hasAttribute("bx-else")){nodes.push(nodeInstance.__nd(lastNode,"bx-else",!0));break}nodes.push(nodeInstance.__nd(lastNode,"bx-elif-is"))}let active_node=nodes.find((e=>e.condition));return nodes.filter((e=>e.el!=active_node.el)).forEach((e=>e.el.remove())),active_node.el.removeAttribute(active_node.tag),{break_loop:!0}}});registry.add(IF_IS_TAG);const AS_TEMPLATE_TAG=(0,_factory__WEBPACK_IMPORTED_MODULE_1__.l)({name:"as-template",type:_enums__WEBPACK_IMPORTED_MODULE_0__.Q.block,use(){return this.BX.templates[this.attr]=this.el.innerHTML,this.el.remove(),{break_loop:!0}}});registry.add(AS_TEMPLATE_TAG);const GET_TEMPLATE_TAG=(0,_factory__WEBPACK_IMPORTED_MODULE_1__.l)({name:"get-template",type:_enums__WEBPACK_IMPORTED_MODULE_0__.Q.block,use(){this.el.innerHTML=this.BX.templates[this.attr]}});registry.add(GET_TEMPLATE_TAG);const CONTEXT_TAG=(0,_factory__WEBPACK_IMPORTED_MODULE_1__.l)({name:"context",type:_enums__WEBPACK_IMPORTED_MODULE_0__.Q.block,use(){return{context:this.data}}});registry.add(CONTEXT_TAG);const BREAK_TAG=(0,_factory__WEBPACK_IMPORTED_MODULE_1__.l)({name:"break",type:_enums__WEBPACK_IMPORTED_MODULE_0__.Q.block,use:()=>({break_loop:!0})});registry.add(BREAK_TAG);const BREAK_IS_TAG=(0,_factory__WEBPACK_IMPORTED_MODULE_1__.l)({name:"break-is",type:_enums__WEBPACK_IMPORTED_MODULE_0__.Q.block,use(){let e={break_loop:!1};try{e.break_loop=!this.data}catch(t){e.break_loop=!0}return this.remove_tag_attribute(),e}});registry.add(BREAK_IS_TAG);const SHOW_IS_TAG=(0,_factory__WEBPACK_IMPORTED_MODULE_1__.l)({name:"show-is",type:_enums__WEBPACK_IMPORTED_MODULE_0__.Q.block,use(){this.data&&this.el.style.removeProperty("display")}});registry.add(SHOW_IS_TAG);const GET_TEXT_TAG=(0,_factory__WEBPACK_IMPORTED_MODULE_1__.l)({name:"get-text",type:_enums__WEBPACK_IMPORTED_MODULE_0__.Q.helper,use(){this.el.innerHTML=this.data}});registry.add(GET_TEXT_TAG);const GET_VALUE_TAG=(0,_factory__WEBPACK_IMPORTED_MODULE_1__.l)({name:"get-value",type:_enums__WEBPACK_IMPORTED_MODULE_0__.Q.helper,use(){this.el.value=this.data}});registry.add(GET_VALUE_TAG);const SET_ATTR_TAG=(0,_factory__WEBPACK_IMPORTED_MODULE_1__.l)({name:"set-attr",type:_enums__WEBPACK_IMPORTED_MODULE_0__.Q.helper,use(){let e=this.attr.split(">"),t=2==e.length?"$$":e[2];t=e[0].split(",").map((e=>this.get_data(e,this.context))).reduce(((e,t)=>e.replace("$$",t)),t),this.el.setAttribute(e[1],t),this.remove_tag_attribute()}});registry.add(SET_ATTR_TAG)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var _=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](_,_.exports,__webpack_require__),_.exports}__webpack_require__.d=(e,t)=>{for(var _ in t)__webpack_require__.o(t,_)&&!__webpack_require__.o(e,_)&&Object.defineProperty(e,_,{enumerable:!0,get:t[_]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{var e=__webpack_require__(900),t=__webpack_require__(524),_=__webpack_require__(553);function r(e,t,_,r){const a=e.children.length;for(let s=0;s<a;s++)e.children?.[s]&&_.call(r,s,e.children[s],t)}class a{constructor(e){let t=null;if("string"==typeof e){if(t=document.querySelector(e),!t)throw Error(`No element found in the dom with selector '${e}'.`)}else t=e;this.el=t,this.main_elements=this.el.querySelectorAll("[bx-main]"),this.raw_html=this.el.innerHTML,this.tag_instances=[],this.templates={},this.collect_tags(this.el)}collect_tags(e,t=/bx-(.*?)="(.*?)"/g){let r=Array.from(e.outerHTML.matchAll(t)),a=[];r.forEach((e=>{a.includes(e[1])||a.push(e[1])})),this.used_tags=a,this.tags=_.i.get_tag_methods(this.used_tags)}get_filtered_TAGS(e){return this[`__${e}_tag_cache`]||(this[`__${e}_tag_cache`]=this.tags.filter((t=>t._type==e))),this[`__${e}_tag_cache`]}*get_TAG_iter(e,t,_){for(const r of _)if(e.getAttribute(`bx-${r._name}`)){const _=r({el:e,context:t,BX:this});this.tag_instances.push(_),yield _}}get each_tags(){return this.get_filtered_TAGS(e.Q.each)}get block_tags(){return this.get_filtered_TAGS(e.Q.block)}get helper_tags(){return this.get_filtered_TAGS(e.Q.helper)}get_each_tags(e,t){return this.get_TAG_iter(e,t,this.each_tags)}get_block_tags(e,t){return this.get_TAG_iter(e,t,this.block_tags)}get_helper_tags(e,t){return this.get_TAG_iter(e,t,this.helper_tags)}main_loop(e){this.main_elements.forEach((t=>this.top_loop(t,e,r)))}top_loop(e,t,_){let r=this.do_helpers(e,t);if(!r.break_loop)return _(e,t=r.context,this.loop,this),e}loop(e,t,_){let a=this.do_blocks(t,_);if(!a.break_loop){let e=a.context,_=this.do_each(t,e);this.top_loop(t,e,_.each_method||r)}return t}do_each(e,t){let _=this.get_each_tags(e,t).next().value;return _?_.use():{break_loop:!1,context:t}}do_blocks(e,t){let _=!1,r=this.get_block_tags(e,t);for(const e of r){let r=e.use();if(r.break_loop){_=!0;break}t=r.context}return{break_loop:_,context:t}}do_helpers(e,t){let _=!1,r=this.get_helper_tags(e,t);for(const e of r){let r=e.use();if(r.break_loop){_=!0;break}t=r.context}return{break_loop:_,context:t}}render(e){this.main_loop(e)}clean(){this.el.innerHTML=this.raw_html,this.main_elements=this.el.querySelectorAll("[bx-main]"),this.tag_instances=[]}}a.registry=_.i,a.tagFactory=t.l,globalThis.BlockeXt=a})()})();